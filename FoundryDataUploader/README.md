# Foundry Data Uploader

à¹‚à¸›à¸£à¹€à¸ˆà¸„ Full-Stack à¸ªà¸³à¸«à¸£à¸±à¸šà¸­à¸±à¸à¹‚à¸«à¸¥à¸”à¹€à¸­à¸à¸ªà¸²à¸£, à¸„à¹‰à¸™à¸«à¸² à¹à¸¥à¸°à¸–à¸²à¸¡à¸„à¸³à¸–à¸²à¸¡à¸à¸±à¸š AI à¸œà¹ˆà¸²à¸™ Azure AI Foundry

## ğŸ—ï¸ à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Angular 19    â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚  .NET 10 API    â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚ Azure AI Foundryâ”‚
â”‚   (Frontend)    â”‚       â”‚   (Backend)     â”‚       â”‚    (AI Model)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  Azure Search   â”‚
                          â”‚    (Index)      â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ¨ à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œ

- **ğŸ’¬ à¸–à¸²à¸¡à¸„à¸³à¸–à¸²à¸¡ AI**: à¸ªà¹ˆà¸‡à¸„à¸³à¸–à¸²à¸¡à¹„à¸›à¸¢à¸±à¸‡ Azure AI Foundry à¹à¸¥à¸°à¸£à¸±à¸šà¸„à¸³à¸•à¸­à¸š
- **ğŸ“ à¸­à¸±à¸à¹‚à¸«à¸¥à¸”à¹€à¸­à¸à¸ªà¸²à¸£**: à¸­à¸±à¸à¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œ .txt, .md, .json, .csv à¹€à¸‚à¹‰à¸² Azure Search
- **ğŸ” à¸„à¹‰à¸™à¸«à¸²à¹€à¸­à¸à¸ªà¸²à¸£**: à¸„à¹‰à¸™à¸«à¸²à¹€à¸­à¸à¸ªà¸²à¸£à¸—à¸µà¹ˆà¸­à¸±à¸à¹‚à¸«à¸¥à¸”à¹„à¸§à¹‰
- **ğŸ“š à¸ˆà¸±à¸”à¸à¸²à¸£à¹€à¸­à¸à¸ªà¸²à¸£**: à¸”à¸¹/à¸¥à¸šà¹€à¸­à¸à¸ªà¸²à¸£à¸—à¸µà¹ˆà¸¡à¸µà¸­à¸¢à¸¹à¹ˆ

## ğŸ“‹ à¸‚à¹‰à¸­à¸à¸³à¸«à¸™à¸”à¹€à¸šà¸·à¹‰à¸­à¸‡à¸•à¹‰à¸™

- [.NET 10 SDK](https://dotnet.microsoft.com/download)
- [Node.js 20+](https://nodejs.org/)
- [Angular CLI 19](https://angular.dev/)
- Azure AI Foundry resource
- Azure Cognitive Search resource

## âš™ï¸ à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²

### 1. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Azure AI Foundry

à¸ªà¸£à¹‰à¸²à¸‡ Azure AI Foundry resource à¹à¸¥à¸°à¸„à¸±à¸”à¸¥à¸­à¸:
- Endpoint URL
- API Key
- Model name (à¹€à¸Šà¹ˆà¸™ gpt-4o)

### 2. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Azure Cognitive Search

à¸ªà¸£à¹‰à¸²à¸‡ Azure Search resource à¹à¸¥à¸°à¸„à¸±à¸”à¸¥à¸­à¸:
- Endpoint URL
- API Key

### 3. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Environment Variables

**Option A: à¸œà¹ˆà¸²à¸™ appsettings.Development.json**

à¹à¸à¹‰à¹„à¸‚à¹„à¸Ÿà¸¥à¹Œ `appsettings.Development.json`:

```json
{
  "AzureAIFoundry": {
    "Endpoint": "https://YOUR-FOUNDRY-RESOURCE.api.azureml.ms/chat/completions",
    "ApiKey": "YOUR_API_KEY_HERE",
    "ModelName": "gpt-4o"
  },
  "AzureSearch": {
    "Endpoint": "https://YOUR-SEARCH-SERVICE.search.windows.net",
    "ApiKey": "YOUR_SEARCH_API_KEY_HERE",
    "IndexName": "knowledgedocs"
  }
}
```

**Option B: à¸œà¹ˆà¸²à¸™ Environment Variables**

```powershell
$env:FOUNDRY_ENDPOINT = "https://YOUR-FOUNDRY-RESOURCE.api.azureml.ms/chat/completions"
$env:FOUNDRY_API_KEY = "YOUR_API_KEY"
$env:FOUNDRY_MODEL_NAME = "gpt-4o"
$env:AZURE_SEARCH_ENDPOINT = "https://YOUR-SEARCH-SERVICE.search.windows.net"
$env:AZURE_SEARCH_API_KEY = "YOUR_SEARCH_API_KEY"
$env:AZURE_SEARCH_INDEX_NAME = "knowledgedocs"
```

## ğŸš€ à¸à¸²à¸£à¸£à¸±à¸™

### à¸£à¸±à¸™ Backend (.NET 10)

```powershell
cd c:\Users\supakornp\FoundryDataUploader
dotnet restore
dotnet run
```

Backend à¸ˆà¸°à¸£à¸±à¸™à¸—à¸µà¹ˆ: `http://localhost:5000`

### à¸£à¸±à¸™ Frontend (Angular 19)

```powershell
cd c:\Users\supakornp\FoundryDataUploader\ClientApp
npm install
ng serve
```

Frontend à¸ˆà¸°à¸£à¸±à¸™à¸—à¸µà¹ˆ: `http://localhost:4200`

## ğŸ“¡ API Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/health` | Health check |
| POST | `/api/ask` | à¸–à¸²à¸¡à¸„à¸³à¸–à¸²à¸¡ AI |
| POST | `/api/upload` | à¸­à¸±à¸à¹‚à¸«à¸¥à¸”à¹€à¸­à¸à¸ªà¸²à¸£ |
| GET | `/api/search?query=xxx` | à¸„à¹‰à¸™à¸«à¸²à¹€à¸­à¸à¸ªà¸²à¸£ |
| GET | `/api/documents` | à¸”à¸¹à¹€à¸­à¸à¸ªà¸²à¸£à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” |
| DELETE | `/api/documents/{id}` | à¸¥à¸šà¹€à¸­à¸à¸ªà¸²à¸£ |

## ğŸ“ à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ API

### à¸–à¸²à¸¡à¸„à¸³à¸–à¸²à¸¡

```bash
curl -X POST http://localhost:5000/api/ask \
  -H "Content-Type: application/json" \
  -d '{"question": "What is Azure?", "context": "optional context"}'
```

### à¸­à¸±à¸à¹‚à¸«à¸¥à¸”à¹€à¸­à¸à¸ªà¸²à¸£

```bash
curl -X POST http://localhost:5000/api/upload \
  -F "files=@document.txt"
```

### à¸„à¹‰à¸™à¸«à¸²à¹€à¸­à¸à¸ªà¸²à¸£

```bash
curl "http://localhost:5000/api/search?query=azure"
```

## ğŸ”§ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„

```
FoundryDataUploader/
â”œâ”€â”€ Program.cs                 # Main API entry point
â”œâ”€â”€ Models/
â”‚   â”œâ”€â”€ KnowledgeDoc.cs       # Document model
â”‚   â””â”€â”€ ApiModels.cs          # Request/Response models
â”œâ”€â”€ Services/
â”‚   â”œâ”€â”€ IFoundryService.cs    # Foundry interface
â”‚   â”œâ”€â”€ FoundryService.cs     # Azure AI Foundry client
â”‚   â”œâ”€â”€ ISearchService.cs     # Search interface
â”‚   â””â”€â”€ SearchService.cs      # Azure Search client
â”œâ”€â”€ appsettings.json          # Configuration
â”œâ”€â”€ appsettings.Development.json
â””â”€â”€ ClientApp/                 # Angular 19 Frontend
    â””â”€â”€ src/
        â””â”€â”€ app/
            â”œâ”€â”€ components/
            â”‚   â”œâ”€â”€ chat/      # Chat component
            â”‚   â”œâ”€â”€ upload/    # Upload component
            â”‚   â””â”€â”€ search/    # Search component
            â””â”€â”€ services/
                â””â”€â”€ api.service.ts
```

## ğŸ“œ License

MIT
